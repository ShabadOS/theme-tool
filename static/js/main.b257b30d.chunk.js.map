{"version":3,"sources":["lib/utils.js","lib/contexts.js","assets/images/logo.png","lib/options.js","lib/mool-mantar.js","components/ErrorFallback.js","App.js","serviceWorker.js","index.js"],"names":["PAUSE_CHARS","heavy","medium","light","stripPauses","line","replace","RegExp","Object","values","classifyWord","word","strip","type","entries","reduce","pauseType","pauseChar","slice","classifyWords","split","map","partitionLine","words","lastWords","pop","nextWords","loadStorage","localStorage","length","keys","OPTIONS","forEach","storageKey","initial","units","undefined","window","setItem","getColorObject","value","includes","match","r","g","b","a","writeCssToDom","key","document","documentElement","style","setProperty","writeCss","DROP_COLORS","rgba","loadCss","filter","timestamp","Date","toISOString","SettingsContext","createContext","module","exports","RATIOS","name","OPTION_TYPES","dropdown","Symbol","toggle","slider","popoverColorPicker","checkbox","PREVIEW_OPTIONS","aspectRatio","larivaarGurbani","larivaarAssist","englishTranslation","spanishTranslation","punjabiTranslation","englishTransliteration","hindiTransliteration","urduTransliteration","backgroundImage","OVERLAY_OPTIONS","flexJustification","height","width","min","max","step","horizontalPadding","lockOverlayPadding","icon","faUnlock","checkedIcon","faLock","verticalPadding","disabled","backgroundColor","WINDOW_OPTIONS","windowDisplay","windowHorizontalPadding","lockWindowPadding","windowVerticalPadding","backgroundWindowColor","TEXT_OPTIONS","textAlign","textHorizontalPadding","lockTextPadding","textVerticalPadding","backgroundTextColor","primaryFontSize","primaryFontColor","disableAlpha","primaryLarivaarAssistColor","primaryDropColor","secondaryFontSlider","secondaryFontSize","secondaryFontColor","secondaryLarivaarAssistColor","secondaryDropColor","TABS","options","faEye","faSquare","faWindowRestore","faTextWidth","LOCK_PROPERTIES","gurmukhi","ErrorFallback","error","autoReset","useState","showError","setErrorVisible","countdown","setCountdown","timerHandle","setTimerHandle","useEffect","setTimeout","location","reload","className","Typography","variant","align","toString","Grid","container","justify","Button","onClick","clearTimeout","clear","defaultProps","RatioBox","lazy","EditorPanel","Preview","Comp","darkTheme","createMuiTheme","palette","primary","main","secondary","contrastThreshold","tonalOffset","commitSettings","settings","applyLockPadding","updatedSettings","acc","lockName","horizontalName","verticalName","lockPadding","withErrorFallback","settingsState","useReducer","nextSettings","setSettings","initialSettings","result","JSON","parse","err","Provider","ThemeProvider","theme","size","allowResize","pane1ClassName","pane2ClassName","fallback","ratio","classNames","MOOL_MANTAR","state","this","src","logo","alt","version","props","Component","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b257b30d.chunk.js","sourcesContent":["/**\n * https://github.com/ShabadOS/desktop/blob/dev/app/frontend/src/lib/utils.js\n */\n\nimport { OPTIONS, DROP_COLORS } from './options'\n\n// Detect vishraams/pauses with characters\nexport const PAUSE_CHARS = {\n  heavy: ';',\n  medium: ',',\n  light: '.',\n}\n\n/**\n * Removes the pause characters from the string.\n * @param line The line to remove the pause characters from.\n */\nexport const stripPauses = line => line.replace( new RegExp( `[${Object.values( PAUSE_CHARS )}]`, 'g' ), '' )\n\n/**\n * Classifies the pause for a single word, returning an object of the word and type.\n * @param word The word to classify.\n * @param strip Whether or not to strip the vishraam character.\n */\nexport const classifyWord = ( word, strip = true ) => ( {\n  word: strip ? stripPauses( word ) : word,\n  type: Object\n    .entries( { ...PAUSE_CHARS } )\n    .reduce( ( type, [ pauseType, pauseChar ] ) => (\n      // Check if last char in word is the current pause char, and return that type if so\n      word.slice( -1 ) === pauseChar ? pauseType : type ), null ),\n} )\n\n/**\n * Returns an array of objects with their text and pause type.\n * @param line The line to process.\n * @param strip Whether or not to strip vishraam characters.\n */\nexport const classifyWords = ( line, strip = true ) => line.split( ' ' ).map( word => classifyWord( word, strip ) )\n\n/**\n * Partitions the line by heavy pause into arrays.\n * @param line The line to partition.\n * @param strip Whether or not to strip vishraam chars from the word.\n */\nexport const partitionLine = ( line, strip = true ) => classifyWords( line, strip )\n  .reduce( ( words, { type, word } ) => {\n  // Get last list of words, removing it from the words list\n    const lastWords = words.pop()\n\n    // Add the words to the last list of words\n    const nextWords = [ ...words, [ ...lastWords, { type, word } ] ]\n\n    // If it's a heavy pause, start a new array after it for the next words\n    return type === 'heavy' ? [ ...nextWords, [] ] : nextWords\n  }, [ [] ] )\n\n// Write template Stylesheet to localstorage\nexport const loadStorage = () => {\n  if ( localStorage.length < Object.keys( OPTIONS ).length ) {\n    Object.values( OPTIONS )\n      .forEach( ( { storageKey, initial, units } ) => {\n        if ( units !== undefined ) {\n          window.localStorage.setItem( storageKey, `${initial}${units}` )\n        } else window.localStorage.setItem( storageKey, initial )\n      } )\n  }\n}\n\n/**\n * Returns a object with RGBA.\n * @param {string} value RGBA\n * https://stackoverflow.com/a/11003212/11321732\n */\nexport const getColorObject = value => {\n  if ( [ 'none', 'undefined', null ].includes( value ) ) return null\n  const [ r, g, b, a ] = value.match( /\\d+/g )\n  return { r, g, b, a }\n}\n\nexport const writeCssToDom = ( key, value ) => document.documentElement.style.setProperty( key, value )\n\n/**\n * Writes values for CSS to the DOM\n * @param {string} key CSS variable to update.\n * @param {string} value new value.\n */\nexport const writeCss = ( key, value ) => {\n  // Drop colors require to be string https://github.com/ShabadOS/desktop/blob/fc01ec563178ad605e42c2274b030da366063a13/app/frontend/src/Overlay/themes/Example.template#L82\n  if ( DROP_COLORS.includes( key ) ) {\n    const rgba = getColorObject( value )\n    writeCssToDom( key, rgba ? `${rgba.r}, ${rgba.g}, ${rgba.b}` : value )\n    return\n  }\n  writeCssToDom( key, localStorage[key] )\n}\n\n// Load stylesheet from local storage\nexport const loadCss = () => {\n  Object.values( OPTIONS )\n    .filter( ( { storageKey } ) => storageKey.includes( '--' ) )\n    .forEach( ( { storageKey } ) => writeCss( storageKey, localStorage[storageKey] ) )\n}\n\nexport const timestamp = () => new Date().toISOString().replace( /\\.\\d{3}\\w$/, '' ).replace( 'T', ' ' )\n","import { createContext } from 'react'\n\nexport const SettingsContext = createContext()\n","module.exports = __webpack_public_path__ + \"static/media/logo.a22745df.png\";","import {\n  faEye,\n  faSquare,\n  faTextWidth,\n  faWindowRestore,\n  faUnlock,\n  faLock,\n} from '@fortawesome/free-solid-svg-icons'\n\nconst TEXT_ALIGN = [\n  { name: 'Middle', value: 'center' },\n  { name: 'Start', value: 'start' },\n  { name: 'Left', value: 'left' },\n  { name: 'Right', value: 'right' },\n]\n\nconst FLEX = [\n  { name: 'Space Between', value: 'space-between' },\n  { name: 'Space Around', value: 'space-around' },\n  { name: 'Space Evenly', value: 'space-evenly' },\n  { name: 'Top', value: 'flex-start' },\n  { name: 'Middle', value: 'center' },\n  { name: 'Bottom', value: 'flex-end' },\n]\n\nconst RATIOS = [\n  { name: '16:9 (standard)', value: 16 / 9 },\n  { name: '9:16 (vertical)', value: 9 / 16 },\n  { name: '1.91:1 (horizontal)', value: 1.91 },\n  { name: '4:5 (portrait)', value: 4 / 5 },\n  { name: '1:1 (square)', value: 1 },\n]\n\n// Unique symbols for each option type\nexport const OPTION_TYPES = {\n  dropdown: Symbol( 'Dropdown' ),\n  toggle: Symbol( 'Toggle' ),\n  slider: Symbol( 'Slider' ),\n  popoverColorPicker: Symbol( 'Popover Color Picker' ),\n  checkbox: Symbol( 'Checkbox' ),\n}\n\n/**\n * Dropdown Type schema\n * { name: string\n *   type: symbol\n *   values: array with objects\n *   storageKey: string\n *   initial: string\n * }\n *\n * Slider Type schema\n * { name: string\n *   type: symbol\n *   min: int\n *   max: int\n *   step: int\n *   units: string\n *   storageKey: string\n *   initial: int\n * }\n *\n * Color Type schema\n * { name: string\n *   type: symbol\n *   storageKey: string\n *   inital: string\n *   disableAlpha: boolean\n * }\n *\n * Toggle Type schema\n * { name: string\n *   type: symbol\n *   storageKey: string\n *   initial: bool\n *\n * }\n *\n * Skip Render\n * { name: false\n *   storageKey: string\n *   initial: any\n * }\n *\n * Lock Button\n * {  name: String\n *    type: symbol\n *    storageKey: String\n *    icon: Icon\n *    checkedIcon: Icon\n *    initial: Boolean\n * }\n *\n */\n\nconst PREVIEW_OPTIONS = {\n  aspectRatio: { name: 'Aspect Ratio', type: OPTION_TYPES.dropdown, values: RATIOS, storageKey: 'aspectRatio', initial: RATIOS[0].value },\n  larivaarGurbani: { name: 'Larivaar Gurbani', type: OPTION_TYPES.toggle, storageKey: 'larivaarGurbani', initial: false },\n  larivaarAssist: { name: 'Larivaar Assist', type: OPTION_TYPES.toggle, storageKey: 'larivaarAssist', initial: false },\n  englishTranslation: { name: 'English Translation', type: OPTION_TYPES.toggle, storageKey: 'englishTranslation', initial: false },\n  spanishTranslation: { name: ' Spanish Translation', type: OPTION_TYPES.toggle, storageKey: 'spanishTranslation', initial: false },\n  punjabiTranslation: { name: 'Punjabi Translation', type: OPTION_TYPES.toggle, storageKey: 'punjabiTranslation', initial: false },\n  englishTransliteration: { name: 'English Transliteration', type: OPTION_TYPES.toggle, storageKey: 'englishTransliteration', initial: false },\n  hindiTransliteration: { name: 'Hindi Transliteration', type: OPTION_TYPES.toggle, storageKey: 'hindiTransliteration', initial: false },\n  urduTransliteration: { name: 'Urdu Transliteration', type: OPTION_TYPES.toggle, storageKey: 'urduTransliteration', initial: false },\n  backgroundImage: { name: 'Background Image', type: OPTION_TYPES.toggle, storageKey: 'bgImage', initial: true },\n}\n\nconst OVERLAY_OPTIONS = {\n  flexJustification: { name: 'Justification', type: OPTION_TYPES.dropdown, values: FLEX, storageKey: '--overlay-flex-justification', initial: 'flex-start' },\n  height: { name: 'Height', type: OPTION_TYPES.dropdown, values: [ { name: 'Auto', value: 'auto' }, { name: '100', value: '100vh' } ], storageKey: '--overlay-height', initial: 'auto' },\n  width: { name: 'Width', type: OPTION_TYPES.slider, min: 1, max: 100, step: 1, storageKey: '--overlay-width', initial: '100', units: '%' },\n  horizontalPadding: { name: 'Horizontal Padding', type: OPTION_TYPES.slider, min: 0, max: 20, step: 1, storageKey: '--overlay-horizontal-padding', units: 'vw', initial: '0' },\n  lockOverlayPadding: { name: 'Lock Padding', type: OPTION_TYPES.checkbox, storageKey: 'lockOverlayPadding', icon: faUnlock, checkedIcon: faLock, initial: true },\n  verticalPadding: { name: 'Vertical Padding', type: OPTION_TYPES.slider, min: 0, max: 75, step: 1, storageKey: '--overlay-vertical-padding', units: 'vh', initial: '0', disabled: true },\n  backgroundColor: { name: 'Background Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-background-color', initial: '#000' },\n  // Need to implement theme-tool#8\n  // backgroundSize: { name: 'Background Size', type: OPTION_TYPES.dropdown, values: [ { name: 'Cover', value: 'cover' }, { name: 'None', value: 'none' }, { name: 'Contain', value: 'contain' } ], storageKey: '--overlay-background-size', initial: 'cover' },\n}\n\nconst WINDOW_OPTIONS = {\n  windowDisplay: { name: 'Display', type: OPTION_TYPES.dropdown, values: [ { name: 'Flex', value: 'flex' }, { name: 'Inline Block', value: 'inline-block' } ], storageKey: '--overlay-window-display', initial: 'flex' },\n  windowHorizontalPadding: { name: 'Horizontal Padding', type: OPTION_TYPES.slider, min: 0, max: 80, step: 1, storageKey: '--overlay-window-horizontal-padding', units: 'vw', initial: '0' },\n  lockWindowPadding: { name: 'Lock Padding', type: OPTION_TYPES.checkbox, storageKey: 'lockWindowPadding', icon: faUnlock, checkedIcon: faLock, initial: true },\n  windowVerticalPadding: { name: 'Vertical Padding', type: OPTION_TYPES.slider, min: 0, max: 80, step: 1, storageKey: '--overlay-window-vertical-padding', units: 'vh', initial: '0', disabled: true },\n  backgroundWindowColor: { name: 'Background Color ', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-window-background-color', initial: 'none' },\n  // Need to implement theme-tool #8\n  // backgroundWindowSize: { name: 'Background Size', type: OPTION_TYPES.dropdown, values: [ { name: 'Cover', value: 'cover' }, { name: 'None', value: 'none' }, { name: 'Contain', value: 'contain' } ], storageKey: '--overlay-window-background-size', initial: 'cover' },\n}\n\nconst TEXT_OPTIONS = {\n  textAlign: { name: 'Alignment', type: OPTION_TYPES.dropdown, values: TEXT_ALIGN, storageKey: '--overlay-text-align', initial: 'center' },\n  textHorizontalPadding: { name: 'Horizontal Padding', type: OPTION_TYPES.slider, min: 0, max: 10, step: 0.1, storageKey: '--overlay-text-horizontal-padding', units: 'vw', initial: '0' },\n  lockTextPadding: { name: 'Lock Padding', type: OPTION_TYPES.checkbox, storageKey: 'lockTextPadding', icon: faUnlock, checkedIcon: faLock, initial: true },\n  textVerticalPadding: { name: 'Vertical Padding', type: OPTION_TYPES.slider, min: 0, max: 10, step: 0.1, storageKey: '--overlay-text-vertical-padding', units: 'vh', initial: '0', disabled: true },\n  backgroundTextColor: { name: 'Background Color ', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-text-background-color', initial: 'none' },\n  // Need to implement theme-tool #8\n  // backgroundTextSize: { name: 'Background Size', type: OPTION_TYPES.dropdown, values: [ { name: 'Cover', value: 'cover' }, { name: 'None', value: 'none' }, { name: 'Contain', value: 'contain' } ], storageKey: '--overlay-text-background-size', initial: 'contain' },\n\n  // Font\n  primaryFontSize: { name: 'Primary Font Size', type: OPTION_TYPES.slider, min: 0, max: 10, step: 0.1, storageKey: '--overlay-primary-font-size', units: 'vh', initial: '4.8' },\n  primaryFontColor: { name: 'Primary Font Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-primary-font-color', initial: '#ffd22b', disableAlpha: true },\n  primaryLarivaarAssistColor: { name: 'Primary Larivaar Assist Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-primary-larivaar-assist-color', initial: '#812929', disableAlpha: true },\n  primaryDropColor: { name: 'Primary Drop Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-primary-drop-color', initial: 'none', disableAlpha: true },\n  secondaryFontSlider: { name: 'Secondary Font Size', type: OPTION_TYPES.slider, min: 30, max: 100, step: 1, storageKey: '--secondary-font-slider', initial: '60' },\n  secondaryFontSize: { name: false, storageKey: '--overlay-secondary-font-size', initial: 'calc( var(--overlay-primary-font-size) * var(--secondary-font-slider)/100)' },\n  secondaryFontColor: { name: 'Secondary Font Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-secondary-font-color', initial: '#FFFFFF', disableAlpha: true },\n  secondaryLarivaarAssistColor: { name: 'Secondary Larivaar Assist Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-secondary-larivaar-assist-color', initial: '#eaffff', disableAlpha: true },\n  secondaryDropColor: { name: 'Secondary Drop Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-secondary-drop-color', initial: 'none', disableAlpha: true },\n\n  // Vishraam\n  // Need to be implemented in Desktop first\n  // vishraamHeavyColor: { name: 'Heavy Vishraam Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-vishraam-heavy-color', initial: 'inherit' },\n  // vishraamMediumColor: { name: 'Medium Vishraam Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-vishraam-medium-color', initial: 'inherit' },\n  // vishraamLightColor: { name: 'Light Vishraam Color', type: OPTION_TYPES.popoverColorPicker, storageKey: '--overlay-vishraam-light-color', initial: 'inherit' },\n\n}\n\nexport const OPTIONS = {\n  ...PREVIEW_OPTIONS,\n  ...OVERLAY_OPTIONS,\n  ...WINDOW_OPTIONS,\n  ...TEXT_OPTIONS,\n}\n\nexport const TABS = [\n  {\n    name: 'Preview',\n    options: Object.keys( PREVIEW_OPTIONS ),\n    icon: faEye,\n  },\n  {\n    name: 'Overlay',\n    options: Object.keys( OVERLAY_OPTIONS ),\n    icon: faSquare,\n  },\n  {\n    name: 'Window',\n    options: Object.keys( WINDOW_OPTIONS ),\n    icon: faWindowRestore,\n  },\n  {\n    name: 'Text',\n    options: Object.keys( TEXT_OPTIONS ),\n    icon: faTextWidth,\n  },\n]\n\nexport const DROP_COLORS = [\n  OPTIONS.primaryDropColor.storageKey,\n  OPTIONS.secondaryDropColor.storageKey,\n]\n\nexport const LOCK_PROPERTIES = [\n  [ 'lockOverlayPadding', [ 'horizontalPadding', 'verticalPadding' ] ],\n  [ 'lockWindowPadding', [ 'windowHorizontalPadding', 'windowVerticalPadding' ] ],\n  [ 'lockTextPadding', [ 'textHorizontalPadding', 'textVerticalPadding' ] ],\n]\n","const GURMUKHI = '<> siq nwmu krqw purKu inrBau inrvYru Akwl mUriq AjUnI sYBM gur pRswid ]'\nconst TRANSLITERATION_ENGLISH = 'ik oankaar sat naam karataa purakh nirbhau niravair akaal moorat ajoonee saibhan gur prasaad |'\nconst TRANSLITERATION_DEVANAGARI = ' ੴ सति नामु करता पुरखु निरभउ निरवैरु अकाल मूरति अजूनी सैभं गुर प्रसादि ॥'\nconst TRANSLITERATION_URDU = 'اک اونکار ست نام کرتا پُرکھ نِربھاُ نِروَےر اکال مُورت اجُونی سَےبھں گُر پرساد ۔۔'\nconst TRANSLATION_PUNJABI = 'ਅਕਾਲ ਪੁਰਖ ਇੱਕ ਹੈ, ਜਿਸ ਦਾ ਨਾਮ \\'ਹੋਂਦ ਵਾਲਾ\\' ਹੈ ਜੋ ਸ੍ਰਿਸ਼ਟੀ ਦਾ ਰਚਨਹਾਰ ਹੈ, ਜੋ ਸਭ ਵਿਚ ਵਿਆਪਕ ਹੈ, ਭੈ ਤੋਂ ਰਹਿਤ ਹੈ, ਵੈਰ-ਰਹਿਤ ਹੈ, ਜਿਸ ਦਾ ਸਰੂਪ ਕਾਲ ਤੋਂ ਪਰੇ ਹੈ, (ਭਾਵ, ਜਿਸ ਦਾ ਸਰੀਰ ਨਾਸ-ਰਹਿਤ ਹੈ), ਜੋ ਜੂਨਾਂ ਵਿਚ ਨਹੀਂ ਆਉਂਦਾ, ਜਿਸ ਦਾ ਪ੍ਰਕਾਸ਼ ਆਪਣੇ ਆਪ ਤੋਂ ਹੋਇਆ ਹੈ ਅਤੇ ਜੋ ਸਤਿਗੁਰੂ ਦੀ ਕਿਰਪਾ ਨਾਲ ਮਿਲਦਾ ਹੈ।'\nconst TRANSLATION_ENGLISH = ' One Universal Creator God. The Name Is Truth. Creative Being Personified. No Fear. No Hatred. Image Of The Undying, Beyond Birth, Self-Existent. By Guru\\'s Grace ~ '\nconst TRANSLATION_SPANISH = 'Un sólo Creador Universal, Verdad es Su Nombre. Creativa Su Personalidad. Sin Miedo, sin Venganza. Inmortal, Sin Principio, Sin Fin, Auto Existente. Por la Gracia del Verdadero Guru.'\n\nexport default {\n  gurmukhi: GURMUKHI,\n  englishTransliteration: TRANSLITERATION_ENGLISH,\n  hindiTransliteration: TRANSLITERATION_DEVANAGARI,\n  urduTransliteration: TRANSLITERATION_URDU,\n  punjabiTranslation: TRANSLATION_PUNJABI,\n  englishTranslation: TRANSLATION_ENGLISH,\n  spanishTranslation: TRANSLATION_SPANISH,\n}\n","import React, { Component, useState, useEffect } from 'react'\nimport { string, bool } from 'prop-types'\n\nimport { Typography, Button, Grid } from '@material-ui/core'\n\nimport { version } from '../../package.json'\nimport logo from '../assets/images/logo.png'\nimport './ErrorFallback.css'\n\nconst RELOAD_COUNTDOWN = 10 // 10 second countdown before automatic reload\n\nconst ErrorFallback = ( { error, autoReset } ) => {\n  const [ showError, setErrorVisible ] = useState( false )\n  const [ countdown, setCountdown ] = useState( autoReset ? RELOAD_COUNTDOWN : null )\n  const [ timerHandle, setTimerHandle ] = useState( null )\n\n  useEffect( () => {\n    if ( countdown === null ) return\n\n    setTimerHandle( setTimeout( () => {\n      if ( countdown > 0 ) setCountdown( countdown - 1 )\n      else window.location.reload()\n    }, 1000 ) )\n  }, [ countdown ] )\n\n  const onReloadClick = () => {\n    if ( countdown ) {\n      clearTimeout( timerHandle )\n      setCountdown( null )\n    } else window.location.reload()\n  }\n\n  return (\n    <div className=\"error-fallback\">\n      <Typography className=\"header\" variant=\"h5\">\n        Have you tried clearing local storage?\n        <Typography>\n          <span>\n            Though we&apos;ve broken Shabad OS plenty,\n            it seems we&apos;ve never broken it quite like this.\n          </span>\n          <span>\n            If you wish to help, please send an email to team@shabados.com\n          </span>\n        </Typography>\n      </Typography>\n\n      {!!countdown && (\n      <Typography variant=\"subtitle2\" align=\"center\">\n        {`Reloading in ${countdown}...`}\n      </Typography>\n      )}\n\n      {showError && ( <div className=\"error\">{error ? error.toString() : 'Unknown error'}</div> )}\n\n      <Grid className=\"buttons\" container justify=\"space-evenly\">\n        <Button variant=\"outlined\" onClick={onReloadClick}>\n          {countdown ? 'Cancel reload' : 'Reload now'}\n        </Button>\n\n        <Button variant=\"outlined\" onClick={() => { window.localStorage.clear() }}>Clear Storage</Button>\n\n        <Button variant=\"outlined\" onClick={() => setErrorVisible( !showError )}>\n          {showError ? 'Hide Error' : 'Show Error'}\n        </Button>\n      </Grid>\n    </div>\n  )\n}\n\nErrorFallback.propTypes = {\n  error: string,\n  autoReset: bool,\n}\n\nErrorFallback.defaultProps = {\n  error: null,\n  autoReset: true,\n}\n\nexport default ErrorFallback\n\nexport const withErrorFallback = Comp => class WithErrorFallback extends Component {\n  state = { error: null }\n\n  static getDerivedStateFromError( error ) {\n    return { error }\n  }\n\n  render() {\n    const { error } = this.state\n\n    if ( error ) {\n      return (\n        <>\n          <ErrorFallback error={error} />\n\n          <div className=\"error-fallback-body\">\n\n            <img src={logo} className=\"logo\" alt=\"logo\" />\n\n            <h5>{`ShabadOS Theme Tool v${version}`}</h5>\n\n          </div>\n\n        </>\n      )\n    }\n\n    return <Comp {...this.props} />\n  }\n}\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useReducer, useEffect, lazy, Suspense } from 'react'\nimport SplitPane from 'react-split-pane'\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport classNames from 'classnames'\n\nimport { SettingsContext } from './lib/contexts'\nimport { loadCss, loadStorage, writeCss } from './lib/utils'\nimport { OPTIONS, LOCK_PROPERTIES } from './lib/options'\nimport MOOL_MANTAR from './lib/mool-mantar'\nimport { withErrorFallback } from './components/ErrorFallback'\n\nimport './App.css'\n\nconst RatioBox = lazy( () => import( './components/RatioBox' ) )\nconst EditorPanel = lazy( () => import( './components/EditorPanel' ) )\nconst Preview = lazy( () => import( './components/Preview' ) )\n\n//! Refactor, must load first\nloadStorage()\nloadCss()\n\nconst darkTheme = createMuiTheme( {\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#DCCDA2',\n    },\n    secondary: {\n      main: '#693E4B',\n    },\n  },\n  contrastThreshold: 3,\n  tonalOffset: 0.2,\n} )\n\nconst commitSettings = settings => {\n  Object.entries( settings ).forEach( ( [ name, value ] ) => {\n    const { storageKey } = OPTIONS[name]\n    writeCss( storageKey, value )\n    window.localStorage.setItem( storageKey, value )\n  } )\n}\n\nconst applyLockPadding = ( settings, updatedSettings ) => LOCK_PROPERTIES.reduce( ( acc, [ lockName, [ horizontalName, verticalName ] ] ) => {\n  const { [horizontalName]: horizontalPadding } = updatedSettings\n  const { [lockName]: lockPadding } = { ...settings, ...updatedSettings }\n\n  OPTIONS[verticalName].disabled = !!lockPadding\n  if ( !lockPadding ) return updatedSettings\n\n  const verticalPadding = horizontalPadding || settings[horizontalName]\n  commitSettings( { [verticalName]: verticalPadding } )\n\n  return {\n    ...acc,\n    ...updatedSettings,\n    // Sync the sliders up but using the same numeric value by giving it the wrong unit\n    [verticalName]: verticalPadding.replace( OPTIONS[horizontalName].units, OPTIONS[verticalName].units ),\n  }\n}, {} )\n\nconst App = () => {\n  const settingsState = useReducer( ( settings, updatedSettings = {} ) => {\n    commitSettings( updatedSettings )\n\n    const nextSettings = applyLockPadding( settings, updatedSettings )\n\n    return { ...settings, ...nextSettings }\n  }, {} )\n\n  const [ { aspectRatio, backgroundImage }, setSettings ] = settingsState\n\n  useEffect( () => {\n    const initialSettings = Object.entries( OPTIONS ).reduce( ( acc, [ name, { storageKey } ] ) => {\n      const value = localStorage[storageKey]\n\n      const result = { ...acc }\n\n      try {\n        result[name] = JSON.parse( value )\n      } catch ( err ) {\n        result[name] = value\n      }\n\n      return result\n    }, {} )\n\n    setSettings( initialSettings )\n  }, [ setSettings ] )\n\n  return (\n    <SettingsContext.Provider value={settingsState}>\n      <ThemeProvider theme={darkTheme}>\n        <div className=\"app\">\n\n          <SplitPane\n            split=\"vertical\"\n            size={350}\n            allowResize={false}\n            pane1ClassName=\"pane-1\"\n            pane2ClassName=\"pane-2\"\n          >\n\n            <div className=\"editor-settings\">\n              <Suspense fallback={<div>Loading...</div>}>\n                <EditorPanel />\n              </Suspense>\n            </div>\n\n            <Suspense fallback={<div>Loading...</div>}>\n              <RatioBox ratio={aspectRatio}>\n                <div className={classNames( 'editor-overlay', { 'no-image': !backgroundImage } )}>\n                  <div className=\"editor-overlay-preview\">\n\n                    <Suspense fallback={<div>Loading...</div>}>\n                      <Preview {...( { ...MOOL_MANTAR } )} />\n                    </Suspense>\n\n                  </div>\n                </div>\n              </RatioBox>\n            </Suspense>\n\n          </SplitPane>\n\n        </div>\n      </ThemeProvider>\n    </SettingsContext.Provider>\n  )\n}\n\nexport default withErrorFallback( App )\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\nexport function register( config ) {\n  if ( process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator ) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL( process.env.PUBLIC_URL, window.location.href )\n    if ( publicUrl.origin !== window.location.origin ) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener( 'load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if ( isLocalhost ) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker( swUrl, config )\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then( () => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          )\n        } )\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW( swUrl, config )\n      }\n    } )\n  }\n}\n\nfunction registerValidSW( swUrl, config ) {\n  navigator.serviceWorker\n    .register( swUrl )\n    .then( registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if ( installingWorker == null ) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if ( installingWorker.state === 'installed' ) {\n            if ( navigator.serviceWorker.controller ) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if ( config && config.onUpdate ) {\n                config.onUpdate( registration )\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log( 'Content is cached for offline use.' )\n\n              // Execute callback\n              if ( config && config.onSuccess ) {\n                config.onSuccess( registration )\n              }\n            }\n          }\n        }\n      }\n    } )\n    .catch( error => {\n      console.error( 'Error during service worker registration:', error )\n    } )\n}\n\nfunction checkValidServiceWorker( swUrl, config ) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch( swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  } )\n    .then( response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get( 'content-type' )\n      if (\n        response.status === 404\n        || ( contentType != null && contentType.indexOf( 'javascript' ) === -1 )\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then( registration => {\n          registration.unregister().then( () => {\n            window.location.reload()\n          } )\n        } )\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW( swUrl, config )\n      }\n    } )\n    .catch( () => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      )\n    } )\n}\n\nexport function unregister() {\n  if ( 'serviceWorker' in navigator ) {\n    navigator.serviceWorker.ready\n      .then( registration => {\n        registration.unregister()\n      } )\n      .catch( error => {\n        console.error( error.message )\n      } )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById( 'root' ),\n)\n\nserviceWorker.register()\n"],"sourceRoot":""}